$gutter: 30px;
$columns: 12;
$viewports: ( xs: 0, sm: 768px, md: 1024px, lg: 1200px, xl: 1440px );

@mixin createColumns ($prefix, $br-min) {

    @media all and (min-width: $br-min) {
        @for $i from 1 through $columns {

            &.col-#{$prefix}-#{$i} {
                flex-basis: calc( (100%/#{($columns / $i)}) - #{$gutter} );
            }

            &.col-offset-#{$prefix}-#{$i} {
                margin-left: calc( (100%/#{($columns / $i)}) + #{$gutter / 2});
            }

        }

        &.col-#{$prefix}-auto {
            margin: 0 auto;
        }
    }
}

@mixin makeGrid {
    @each $key, $value in $viewports {
        @include createColumns ($key, $value);
    }
}

.wrapper {
    width: 100%;
    max-width: 1024px;
    margin: 0 auto;
    padding: 0 $gutter/2;
    box-sizing: border-box;

    &.full {
        max-width: none;
    }
}

.row {
    display: flex;
    margin: 0 $gutter/-2;
    flex-direction: row;
    flex-wrap: wrap;
}

.col {
    margin: 0 $gutter/2;
    flex-basis: 100%;
    min-height: 1px;
    @include makeGrid();
}