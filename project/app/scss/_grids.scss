@import "vars";
@import "mixins";

.wrapper {
    width: 100%;
    max-width: 1024px;
    margin: 0 auto;
    padding: 0 $gutter/2;
    box-sizing: border-box;

    &.full {
        max-width: none;
    }
}

.row {
    display: flex;
    margin: 0 $gutter/-2;
    flex-direction: row;
    flex-wrap: wrap;

    &.centered {
        justify-content: center;
        .col{
            margin: 0 $gutter/2;
        }
    }

    &.to-right {
        justify-content: flex-end;
        .col {
            margin: 0 $gutter/2;
        }
    }
}

.col {
    margin: 0 $gutter/2;
    flex-basis: 100%;
    min-height: 1px;
    @include makeGrid();
}

@for $i from 1 through length($viewports) {
    $key: nth(nth($viewports, $i), 1);
    $value: nth(nth($viewports, $i), 2);
    $next-val: false;

    @if $i < length($viewports) {
        $next-val: nth(nth($viewports, $i + 1), 2);
    }

    .#{$key}-visible {
        display: none !important;
    }

    .#{$key}-hidden {
        display: block !important;
    }

    @if ($i == length($viewports)) {
        @media all and (min-width: $value) {
            .#{$key}-visible {
                display: block !important;
            }

            .#{$key}-hidden {
                display: none !important;
            }
        }
    } @else if ($i == 1) {
        @media all and (max-width: $next-val - 1px) {
            .#{$key}-visible {
                display: block !important;
            }

            .#{$key}-hidden {
                display: none !important;
            }
        }
    } @else {
        @media all and (max-width: $next-val - 1px) and (min-width: $value) {
            .#{$key}-visible {
                display: block !important;
            }

            .#{$key}-hidden {
                display: none !important;
            }
        }
    }
}